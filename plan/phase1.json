{
  "project": {
    "name": "HyroxBox Management System",
    "version": "1.0.0 MVP",
    "description": "Next.js 기반 HyroxBox 데이터 관리 및 표시 시스템",
    "tech_stack": {
      "framework": "Next.js 15+, App Router",
      "rendering": {
        "main_page": "SSR (Server-Side Rendering)",
        "admin_page": "All SSR (Server-Side Rendering)"
      },
      "styling": "Tailwind CSS, Shadcn UI",
      "database": "Supabase PostgreSQL",
      "orm": "Drizzle ORM",
      "validation": "Zod",
      "api": "Server Actions (Drizzle Functions)"
    }
  },
  "pages": {
    "main_page": {
      "route": "/",
      "name": "메인 페이지",
      "rendering_type": "SSR",
      "features": {
        "data_display": {
          "description": "전체 HyroxBox 데이터 표시",
          "data_source": "HyroxBox API",
          "display_format": "카드 그리드 레이아웃"
        },
        "filtering": {
          "description": "Region별 필터링 기능",
          "component": "Select 드롭다운",
          "filter_options": "동적으로 Region 데이터에서 로드"
        },
        "loading_state": {
          "description": "데이터 로딩 중 Skeleton UI 표시",
          "skeleton_elements": [
            "카드 컨테이너",
            "이미지 플레이스홀더",
            "텍스트 라인"
          ]
        }
      },
      "ui_requirements": {
        "responsive": true,
        "skeleton_loading": true,
        "filter_persistence": "URL 쿼리 파라미터로 상태 유지"
      },
      "ux_specifications": {
        "layout": {
          "type": "header_sidebar_content",
          "header": {
            "height": "60px",
            "sticky": true,
            "contains": ["logo", "navigation", "search_filter"]
          },
          "sidebar": {
            "width": "300px",
            "position": "left",
            "collapsible": true,
            "contains": ["region_filter", "quick_stats"]
          },
          "content": {
            "flex": "1",
            "padding": "24px",
            "contains": ["hyroxbox_grid"]
          }
        },
        "user_interactions": {
          "region_filtering": {
            "trigger": "Select 드롭다운 변경",
            "action": "URL 업데이트 및 데이터 재로드",
            "loading_state": "Skeleton 카드 표시",
            "animation": "fade-in transition 300ms"
          },
          "search": {
            "trigger": "검색어 입력 (debounce 300ms)",
            "action": "실시간 필터링",
            "loading_state": "검색 스피너",
            "no_results": "빈 상태 메시지 표시"
          },
          "card_hover": {
            "effect": "elevation shadow",
            "transform": "scale(1.02)",
            "transition": "all 200ms ease"
          }
        },
        "loading_states": {
          "initial_load": {
            "duration": "1-3초",
            "skeleton_count": 9,
            "skeleton_layout": "카드 그리드와 동일한 배치"
          },
          "filter_change": {
            "duration": "500ms-1초",
            "current_cards": "fade-out",
            "new_cards": "fade-in with stagger"
          }
        },
        "error_handling": {
          "network_error": {
            "display": "에러 바운더리 컴포넌트",
            "retry_button": true,
            "fallback_message": "데이터를 불러올 수 없습니다. 다시 시도해주세요."
          },
          "empty_state": {
            "illustration": true,
            "message": "선택한 지역에 HyroxBox가 없습니다",
            "action": "필터 초기화 버튼"
          }
        },
        "accessibility": {
          "keyboard_navigation": "Tab order: 검색 → 필터 → 카드들",
          "screen_reader": "각 카드에 aria-label 제공",
          "focus_management": "필터 변경 후 첫 번째 카드로 포커스 이동",
          "color_contrast": "WCAG AA 준수"
        },
        "performance": {
          "virtual_scrolling": "50개 이상일 때 적용",
          "image_optimization": "Next.js Image 컴포넌트 사용",
          "prefetching": "viewport 내 카드 데이터 미리 로드"
        }
      }
    },
    "admin_pages": {
      "base_route": "/admin",
      "rendering_type": "CSR",
      "layout": {
        "type": "사이드바 레이아웃",
        "sidebar_ratio": "3",
        "content_ratio": "7",
        "sidebar_position": "left"
      },
      "navigation": {
        "menu_items": [
          {
            "name": "Home",
            "route": "/admin",
            "icon": "home"
          },
          {
            "name": "HyroxBox",
            "route": "/admin/hyroxbox",
            "icon": "box"
          },
          {
            "name": "Region",
            "route": "/admin/region",
            "icon": "map"
          }
        ]
      },
      "pages": [
        {
          "route": "/admin",
          "name": "어드민 홈",
          "features": {
            "dashboard": {
              "description": "전체 데이터 요약 통계",
              "metrics": [
                "총 HyroxBox 수",
                "총 Region 수",
                "최근 업데이트 시간"
              ]
            }
          }
        },
        {
          "route": "/admin/hyroxbox",
          "name": "HyroxBox 관리",
          "features": {
            "crud_operations": {
              "create": {
                "description": "새 HyroxBox 추가",
                "form_fields": [
                  "name",
                  "description",
                  "region_id",
                  "address",
                  "contact_info"
                ]
              },
              "read": {
                "description": "HyroxBox 목록 조회",
                "table_columns": [
                  "ID",
                  "이름",
                  "지역",
                  "주소",
                  "생성일",
                  "액션"
                ],
                "pagination": true,
                "search": true
              },
              "update": {
                "description": "HyroxBox 정보 수정",
                "modal_or_page": "모달"
              },
              "delete": {
                "description": "HyroxBox 삭제",
                "confirmation": true
              }
            }
          }
        },
        {
          "route": "/admin/region",
          "name": "Region 관리",
          "features": {
            "crud_operations": {
              "create": {
                "description": "새 Region 추가",
                "form_fields": ["name", "code", "description"]
              },
              "read": {
                "description": "Region 목록 조회",
                "table_columns": [
                  "ID",
                  "이름",
                  "코드",
                  "설명",
                  "생성일",
                  "액션"
                ],
                "pagination": true,
                "search": true
              },
              "update": {
                "description": "Region 정보 수정",
                "modal_or_page": "모달"
              },
              "delete": {
                "description": "Region 삭제",
                "confirmation": true,
                "cascade_check": "HyroxBox와의 연관 관계 확인"
              }
            }
          }
        }
      ]
    }
  },
  "layout_wireframe": {
    "analysis_source": "첨부된 디자인 참조 이미지",
    "layout_structure": {
      "container": {
        "type": "full_width_container",
        "padding": "16px",
        "background": "neutral"
      },
      "header_section": {
        "position": "top",
        "width": "100%",
        "height": "auto",
        "components": ["search_bar", "filter_controls"],
        "description": "상단 긴 직사각형 - 검색 및 필터 영역"
      },
      "main_content": {
        "layout": "sidebar_content",
        "gap": "24px",
        "sidebar": {
          "width": "300px",
          "position": "left",
          "components": ["region_filter", "additional_filters"],
          "description": "왼쪽 큰 사각형 - 필터 사이드바"
        },
        "content_area": {
          "flex": "1",
          "display": "flex",
          "flex_direction": "column",
          "gap": "16px",
          "components": [
            {
              "type": "hyroxbox_card",
              "count": 5,
              "layout": "vertical_stack",
              "description": "오른쪽 세로 배열된 직사각형들 - HyroxBox 카드 목록"
            }
          ]
        }
      }
    },
    "responsive_breakpoints": {
      "mobile": {
        "max_width": "768px",
        "layout_changes": {
          "sidebar": "collapse to drawer",
          "header": "stack vertically",
          "cards": "single column"
        }
      },
      "tablet": {
        "min_width": "769px",
        "max_width": "1024px",
        "layout_changes": {
          "sidebar": "reduce width to 250px",
          "cards": "maintain single column"
        }
      },
      "desktop": {
        "min_width": "1025px",
        "layout_changes": {
          "sidebar": "full 300px width",
          "cards": "optimize spacing"
        }
      }
    },
    "component_specifications": {
      "header_rectangle": {
        "purpose": "검색 및 주요 필터",
        "height": "60px",
        "border_radius": "8px",
        "contains": ["search_input", "region_select", "sort_options"]
      },
      "sidebar_rectangle": {
        "purpose": "상세 필터 및 네비게이션",
        "min_height": "400px",
        "border_radius": "8px",
        "contains": ["region_filter", "quick_stats", "reset_filters"]
      },
      "content_rectangles": {
        "purpose": "HyroxBox 카드",
        "height": "120px",
        "border_radius": "8px",
        "hover_effect": true,
        "contains": ["hyroxbox_info", "region_badge", "action_buttons"]
      }
    }
  },
  "data_models": {
    "HyroxBox": {
      "fields": {
        "id": {
          "type": "string/number",
          "required": true,
          "unique": true
        },
        "name": {
          "type": "string",
          "required": true,
          "max_length": 100
        },
        "description": {
          "type": "string",
          "required": false,
          "max_length": 500
        },
        "region_id": {
          "type": "string/number",
          "required": true,
          "foreign_key": "Region.id"
        },
        "address": {
          "type": "string",
          "required": false,
          "max_length": 200
        },
        "contact_info": {
          "type": "string",
          "required": false,
          "max_length": 100
        },
        "created_at": {
          "type": "datetime",
          "auto_generated": true
        },
        "updated_at": {
          "type": "datetime",
          "auto_generated": true
        }
      }
    },
    "Region": {
      "fields": {
        "id": {
          "type": "string/number",
          "required": true,
          "unique": true
        },
        "name": {
          "type": "string",
          "required": true,
          "max_length": 50
        },
        "code": {
          "type": "string",
          "required": true,
          "unique": true,
          "max_length": 10
        },
        "description": {
          "type": "string",
          "required": false,
          "max_length": 200
        },
        "created_at": {
          "type": "datetime",
          "auto_generated": true
        },
        "updated_at": {
          "type": "datetime",
          "auto_generated": true
        }
      }
    }
  },
  "drizzle_functions": {
    "hyroxbox": {
      "getAllHyroxBoxes": {
        "description": "모든 HyroxBox 조회 (Region 정보 포함)",
        "parameters": {
          "regionId": "선택적 - Region으로 필터링",
          "page": "선택적 - 페이지네이션",
          "limit": "선택적 - 페이지당 아이템 수"
        },
        "return_type": "Promise<HyroxBoxWithRegion[]>",
        "query": "select * from hyroxbox left join region on hyroxbox.region_id = region.id"
      },
      "createHyroxBox": {
        "description": "새 HyroxBox 생성",
        "parameters": "HyroxBoxInsert",
        "return_type": "Promise<HyroxBox>",
        "validation": "region_id 존재 여부 확인"
      },
      "updateHyroxBox": {
        "description": "HyroxBox 업데이트",
        "parameters": {
          "id": "string/number",
          "data": "Partial<HyroxBoxUpdate>"
        },
        "return_type": "Promise<HyroxBox>",
        "validation": "존재 여부 및 region_id 유효성 검사"
      },
      "deleteHyroxBox": {
        "description": "HyroxBox 삭제",
        "parameters": "id: string/number",
        "return_type": "Promise<void>",
        "validation": "존재 여부 확인"
      },
      "getHyroxBoxesByRegion": {
        "description": "특정 Region의 HyroxBox 조회",
        "parameters": "regionId: string/number",
        "return_type": "Promise<HyroxBox[]>"
      }
    },
    "region": {
      "getAllRegions": {
        "description": "모든 Region 조회",
        "return_type": "Promise<Region[]>",
        "query": "select * from region order by name"
      },
      "createRegion": {
        "description": "새 Region 생성",
        "parameters": "RegionInsert",
        "return_type": "Promise<Region>",
        "validation": "code 중복 확인"
      },
      "updateRegion": {
        "description": "Region 업데이트",
        "parameters": {
          "id": "string/number",
          "data": "Partial<RegionUpdate>"
        },
        "return_type": "Promise<Region>",
        "validation": "존재 여부 및 code 중복 확인"
      },
      "deleteRegion": {
        "description": "Region 삭제",
        "parameters": "id: string/number",
        "return_type": "Promise<void>",
        "validation": "연관된 HyroxBox 존재 여부 확인",
        "cascade_check": true
      },
      "getRegionWithHyroxBoxCount": {
        "description": "Region별 HyroxBox 개수 포함 조회",
        "return_type": "Promise<RegionWithCount[]>",
        "query": "select region.*, count(hyroxbox.id) as hyroxbox_count from region left join hyroxbox on region.id = hyroxbox.region_id group by region.id"
      }
    }
  },
  "ui_components": {
    "shared": [
      "Layout",
      "Header",
      "Footer",
      "Loading Spinner",
      "Skeleton Loader",
      "Modal",
      "Button",
      "Input",
      "Select",
      "Table",
      "Pagination"
    ],
    "main_page": ["HyroxBoxCard", "RegionFilter", "HyroxBoxGrid"],
    "admin": [
      "Sidebar",
      "AdminLayout",
      "DataTable",
      "FormModal",
      "DeleteConfirmation",
      "Dashboard Stats"
    ]
  },
  "development_phases": {
    "phase_1": {
      "name": "기본 구조 및 데이터 모델",
      "tasks": [
        "Next.js 프로젝트 초기 설정",
        "데이터베이스 스키마 설계",
        "기본 API 엔드포인트 구현",
        "데이터 모델 타입 정의"
      ],
      "estimated_time": "1-2주"
    },
    "phase_2": {
      "name": "메인 페이지 개발",
      "tasks": [
        "SSR 메인 페이지 구현",
        "HyroxBox 데이터 표시",
        "Region 필터링 기능",
        "Skeleton 로딩 UI"
      ],
      "estimated_time": "1-2주"
    },
    "phase_3": {
      "name": "어드민 페이지 개발",
      "tasks": [
        "어드민 레이아웃 구현",
        "사이드바 네비게이션",
        "HyroxBox CRUD 기능",
        "Region CRUD 기능"
      ],
      "estimated_time": "2-3주"
    },
    "phase_4": {
      "name": "최적화 및 배포",
      "tasks": ["성능 최적화", "에러 처리", "테스트 코드 작성", "배포 준비"],
      "estimated_time": "1주"
    }
  },
  "acceptance_criteria": {
    "main_page": [
      "모든 HyroxBox 데이터가 SSR로 렌더링됨",
      "Region 필터가 정상 작동함",
      "로딩 중 Skeleton UI가 표시됨",
      "반응형 디자인이 적용됨"
    ],
    "admin_page": [
      "모든 CRUD 작업이 정상 동작함",
      "사이드바 레이아웃이 3:7 비율로 구현됨",
      "데이터 검증이 적용됨",
      "삭제 시 확인 모달이 표시됨"
    ]
  },
  "notes": {
    "design_reference": "첨부된 와이어프레임 이미지를 분석하여 header-sidebar-content 레이아웃 구조 반영",
    "drizzle_setup": "Drizzle ORM 스키마 정의 및 마이그레이션 설정 필요",
    "authentication": "MVP에서는 인증 기능 제외, 추후 추가 예정",
    "deployment": "Vercel 또는 Netlify를 통한 배포 권장",
    "database_migration": "Drizzle Kit을 사용한 스키마 마이그레이션 관리"
  }
}
